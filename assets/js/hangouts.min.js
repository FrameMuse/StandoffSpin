var features_toLoad,button_more={contracts:1,inventory:1,history:1},sorted_skin_html=`<div class="sorted-skins__unit"><div class="sorted-skins__marks"><span class="sorted-skins__cost skewed-element"></span><div class="sorted-skins__icons"><div class="sorted-skins__icon sorted-skins__icon--green skewed-element"><span class="sorted-skins__icon--arrow"></span></div><div class="sorted-skins__icon sorted-skins__icon--orange skewed-element"><span class="sorted-skins__icon--dollar"></span></div></div></div><div class="weapon-skins__weapon"><img src="" class="weapon-skins__image"></div><div class="sorted-skins__skin-title"><span class="sorted-skins__skin-title--0"></span><span class="sorted-skins__skin-title--1"></span></div></div>`,sorted_contract_html=`<div class="sorted-cotracts__unit"><div class="sorted-cotracts__extend"><div class="sorted-cotracts__skins"></div><div class="sorted-cotracts__text gray">Стоимость контракта <span class="white skewed-text"></span></div></div></div>`;String.prototype.intConvert=function(){return parseInt(this,10)},String.prototype.num_split=function(){for(var a=[],b=this.toString(),c=b.length,d=0;d<c;d++)a.push(+b.charAt(d));return a},String.prototype.multiReplace=function(a,b){var c=this;for(var d in a)c=c.replace(new RegExp(a[d],"g"),b);return c},Array.prototype.last=function(a){if(null!=this)switch(typeof a){case"function":return a(this[this.length-1]),this[this.length-1];break;default:return null==a?this[this.length-1]:this.slice(Math.max(this.length-a,0));}},window.getLanguage=a=>{var b=a.split("."),c=window._language;for(var d of b){if(!c[d]){c="not found "+a;break}c=c[d]}return c},$.fn.extend({toggleText:function(c,a=null){return this.html(this.html()==a?c:a)},num_split:function(){for(var a=[],b=this.text().toString(),c=b.length,d=0;d<c;d++)a.push(+b.charAt(d));return a},timer:async function(a=!1){this.each(function(){var b=$(this).attr("data-time"),c=new Date(b),d=setInterval(()=>{var b=c-Date.now(),e=Math.floor(b/86400000),f=Math.floor(b%86400000/3600000),g=Math.floor(b%3600000/60000),h=Math.floor(b%60000/1e3),i=(a?e+":":"")+f+":"+g+":"+h;0>b?(clearInterval(d),$(this).html("EXPIRED")):$(this).html(i)},1e3)})}});const api=new class{constructor(){this.version="v1",this.host="https://standoffspin.ru",this.path=this.host+"/api/"+this.version}request(a,b,c={},d){$.ajax({url:this.url(b),method:a,headers:{"X-CSRF-TOKEN":$("meta[name=\"csrf-token\"]").attr("content")},dataType:"json",data:$.param(c),success:function(a){return page.dev?void page.support.notify_dev("success",a):"error"in a?void page.support.notify("error",getLanguage(a.error_msg)):void d(a)},error:a=>page.dev?void page.support.notify_dev("error",a):void(console.warn("API Request Error:",a),"undefined"==typeof a.responseJSON&&(a.responseJSON={message:"Undefined error"}),page.support.notify(a.statusText,`API Request Error: "`+a.responseJSON.message+`"`))})}post(a,b={},c=function(){}){this.request("POST",a,b,c)}get(a,b={},c=function(){}){this.request("GET",a,b,c)}url(a){return this.path+a}},postLoader=new class{constructor(){this.scripts=[],$(window).on("load",()=>this.load())}add(a){this.scripts.push(a)}load(){this.scripts.forEach(a=>a())}},DOM=new class{constructor(){this.targets=[],this.observer=new MutationObserver(a=>this.callback(a))}callback(a){a.forEach(a=>{this.targets.filter(b=>{b.target===a.target&&b.action(a.type,b.target)})})}listen(a,b,c={attributes:!0,childList:!0,subtree:!0}){$(a).each((a,d)=>{this.targets.push({target:d,action:b}),this.observer.observe(d,c)})}update(a,b,c=!1){for(const d in b)$(".js-"+a+"-"+d).html(c?split_number(+b[d]):b[d])}on(a,b,c){for(const d in c)$(document).on(a,".js-"+b+"-"+d,c[d])}};class features_lang{constructor(){this.tap="ru",this.onclick=function(){},this.path="/assets/img/icons/";this;$(".js-option-lang").click(()=>{var a=this.toggleTap("ru","en");$(".topbar-language__icon").css({"background-image":`url(${this.path+a+".png"})`}),$(".topbar-language__text").html(a),this.onclick(a)})}toggleTap(c,a=null){return this.tap=this.tap==a?c:a}}class features_sound{constructor(){this.tap="on",this.onclick=function(){};const a=this;$(".js-option-volume").click(function(){$(this).find(".stndfspin-features__icon").toggleClass("stndfspin-button--unfilled").toggleClass("stndfspin-features__icon--green").parent().find(".stndfspin-features__column > span").toggleText("\u0412\u043A\u043B.","\u0412\u044B\u043A\u043B."),a.onclick(a.toggleTap("on","off"))})}toggleTap(c,a=null){return this.tap=this.tap==a?c:a}}class features_timer{constructor(){this.data={numbers:{seconds:0,minutes:0,hours:0,days:0}}}counts(a=""){return $(".timer-v2__count[data-count='"+a+"']").find("span")}async initiate(a={},b=1){return this.data.numbers=a,this.promise=new Promise(c=>{var d=setInterval(()=>{if(this.single_discount("seconds",59)&&this.single_discount("minutes",59)&&this.single_discount("hours",23)&&this.single_discount("days",344))return clearInterval(d),void c();for(const b in a)this.counts(b).each(function(c){$(this).html(num_split(a[b],2)[c])})},1e3/b)}),await this.promise}single_discount(a="",b=0){return!(null!=this.data.numbers[a])||(0>=this.data.numbers[a]?(this.data.numbers[a]=b,!0):void this.data.numbers[a]--)}}class features_wheel{constructor(){this.reopen={onclick:function(){}},this.data={spins:4,animation:"16s cubic-bezier(.1, 0, 0, 1) transform",duration:16000,only:!0},DOM.on("click","wheel",{reopen:()=>{this.reopen.onclick()}}),$(document).on("click",".box__input",function(){$(".box__input").removeClass("box__input--active"),$(this).addClass("box__input--active")})}init(){page.support.progress=75,this.data.multiplier={0:1,1:2,2:3,3:4,4:5,5:10}[$(".box__input--active").attr("data-id")],this.data.current={items:[]},this.multiple(this.data.multiplier),this.count(12)}getRotationDegrees(c){var d=c.css("-webkit-transform")||c.css("-moz-transform")||c.css("-ms-transform")||c.css("-o-transform")||c.css("transform");if("none"!==d)var e=d.split("(")[1].split(")")[0].split(","),f=e[0],a=e[1],b=Math.round(Math.atan2(a,f)*(180/Math.PI));else var b=0;return 0>b?b+360:b}spinTo(a,b=0){var c=this.find_item(b,a),d=360*this.data.spins-this.getRotationDegrees(c),e=c.parent();e.css({animation:"unset"});const f=new Promise(a=>{var b=setInterval(()=>{"spinning"!=e.css("animation")&&(a(),clearInterval(b))},75)});return f.then(()=>{e.css({transform:"rotate("+d+"deg)"})}),page.support.progress=100,c}checkUp(a,b){return console.log(b),new Promise(c=>{setTimeout(()=>{var d=setInterval(()=>{if(360==this.getRotationDegrees(a)+this.getRotationDegrees($(".fortune-wheel[data-id='"+b+"'] .fortune__circle")))return clearInterval(d),void c()},500)},1e3*this.data.duration)})}win(a={},b=0,c=!1){var d=this.spinTo(a.id,b),e=d.parent().parent(),f=c?0:3e3;setTimeout(()=>{d.find(".weapon-skins__image").attr({src:"/img/"+a.item.image}),d.find(".sorted-skins__skin-title--0").html(a.item.name),d.find(".sorted-skins__skin-title--0").html(a.item.subname),d.find(".sorted-skins__skin-title--0").html(a.item.subname),d.find(".sorted-skins__cost").html(a.item.price),d.find(".sorted-skins__unit").addClass("sorted-skins__unit--"+a.item.class_name),e.find(".fortune-wheel__inner .sorted-skins__unit").html(d.html())},f),setTimeout(()=>{page.support.progress=null},250)}multiple_win(a={},b=!1){this.sum=0,this.going=!0,this.data.current=a,a.filter(async(a,c)=>{this.win(a,c,b),this.sum+=a.item.price,FortuneWheelController.setInnerPrice(c,a.item.price)});var c=new Promise(a=>b?(page.support.progress=null,void a()):void setTimeout(()=>{a()},this.data.duration));return this.box_view(null),c.then(()=>{DOM.update("wheel",{"all-prices":alter_by_currency(this.sum,!0)}),$(".fortune__circle, .fortune-wheel__inner, .fortune-wheel__curve-1, .fortune-wheel__curve-2").toggleClass("hidden"),$(".fortune-wheel").addClass("fortune-wheel--without-after"),this.data.only||this.box_view(1)}),this.promise=c}count(a){this.number=a;var b=+$(".fortune__item").css("height").replace("px","");$(".fortune__item").each(function(b){$(this).css({transform:"rotate("+360/a*b+"deg) translateY(var(--wheel-indent))"})}),$(".fortune-wheel").css({"--wheel-item-skew":b/(114/(360/a))+"px","--wheel-underline-width":"calc(0.625em / "+114/(360/a)+")"})}find_item(a,b){var c=$(".fortune-wheel[data-id='"+a+"'] .fortune__item:nth-child("+b+")");if(0<c.length)return c;throw"There is no such an item"}multiple(a){this.tideUp();for(var b=$(".fortune-wheel"),c=b.parent(),d=0;d<a;d++)c.append(b.clone().attr("data-id",d));return $(".fortune-wheel:not([data-id])").remove(),$(".fortune-wheel__inner").removeClass("fortune-wheel__inner--0 fortune-wheel__inner--1"),1<a?($(".fortune-wheel__inner").addClass("fortune-wheel__inner--1"),this.data.only=!1):($(".fortune-wheel__inner").addClass("fortune-wheel__inner--0"),this.data.only=!0),page.mobile.if?void $(".box").css("--wheel-font-size","3.5px"):void(2==a&&$(".box").css("--wheel-font-size","5.25px"),3<=a&&$(".box").css("--wheel-font-size","3.5px"))}tideUp(){$(".box").css("--wheel-font-size",""),$(".fortune-wheel").each(function(a){0!=a&&$(this).remove()})}box_view(a=0){null==a&&$("[class *= 'box__view']").addClass("hidden"),$(".box__view--"+a).removeClass("hidden")}}class features_popup{constructor(){this.on=function(){}}tend(a){return $(".popup-window__"+a)}wEdit(a={}){for(var b in a)this.tend(b).html(a[b])}fadeIn(a){$(".popup").removeAttr("hidden"),setTimeout(()=>{a.removeClass("scale-out scale-in").addClass("scale-in")},50)}fadeOut(){var a=$(".popup");a.find("> *:not(.popup__cover)").removeClass("scale-out scale-in").addClass("scale-out"),setTimeout(()=>a.attr("hidden",""),200)}open(a,b={}){this.wText=function(b){return getLanguage("popup."+a+"."+b)},this.title=this.wText("title"),this.summary=this.wText("summary"),this.wEdit({title:null,summary:null,content:null,help:getLanguage("popup.help.html")}),this.on(a,b),this.fadeIn($(".popup-window"))}close(a=!1){a&&this.fadeOut(),$(".popup-window__close, .popup__cover").click()}}class features_referal{init(){this.name=name,this.default(),this.progress_block="<div class=\"goal__line\"><div class=\"goal__line--line-progress\"></div><div class=\"goal__counter\"><span class=\"goal__counter--icon\"></span><span class=\"goal__counter--amount\"></span></div></div>",this.commit_progress(2,89)}default(){this.goals_number=$(".goal").length,this.width=$(this.name).outerWidth(),this.goal_width=$(".goal").outerWidth(),this.goal_height=$(".goal__image").outerHeight(),this.goal_indent=$(".goal[data-goal-id='2']").css("margin-left").replace("px","").intConvert(),this.goal_image=$(".goal__image").outerWidth(),this.goal_goal_height=$(".goal__goal").outerHeight()}create_progress_block(){return 1>=this.goals_number?void console.error("Too few elements at the page ("+this.goals_number+")"):void $(this.name).append(this.progress_block)}create_goal(a,b,c,d,e=""){if(e)var e="goal__reached";var f="<div class=\"goal "+e+"\" data-goal-id=\""+this.goals_number+"\"><div class=\"goal__goal\">"+a+"</div><div class=\"goal__image\"><img class=\"goal__image--image\" src=\""+c+"\"></div><div class=\"goal__level\">"+b+"</div><div class=\"goal__rewards\">"+d+"</div>";return this.goals_number++,f}add_goal(a){var b=this.create_goal(a.goal,a.level,a.image,a.rewards,a.reached);$(this.name).append(b)}get_progress(a,b){var c=this.goal_width+this.goal_indent,b=b/100,d=c*a-c+this.goal_width+c*b-c;return d}commit_progress(a,b,c){var d=this.get_progress(a,b);return d>this.width?(console.log(d),console.error("Commited line is too big for '"+this.name+"'"),d+"px"):(0>d&&(d=0),1>=this.goals_number?void console.error("Too few elements at the page ("+this.goals_number+")"):void(90<=b&&100>=b||10<=b&&2>=b?$(".goal__counter").addClass("hidden"):$(".goal__counter").removeClass("hidden"),c&&$(".goal__counter--amount").html(c),$(".goal__line--line-progress").css("width",d+"px"),$(".goal__counter").css("left",d-$(".goal__counter").outerWidth()/2+"px"),$(".goal__line").css("top",this.goal_image_indent+this.goal_goal_height+this.goal_height/2+"px")))}}class features_contract{constructor(){this.onpop=function(){},this.spot=new class{constructor(){this.error=function(){},this.saf=!0}init(){this.spots=[],$(".contract__spot").each((a,b)=>{this.spots.push({status:"unoccupied",object:b,data:{title:null,amount:null,weapon_id:null}}),$(b).attr("data-id",a)})}takePlace(a){var b=this.whichAvail().shift(),c=this.setOcp(b);c&&(a.clone().appendTo(c),this.data("get",b),a.remove(),this.caution())}freeUpPlace(a){var b=a.parent().attr("data-id");this.setUnocp(b)&&(a.clone().appendTo($(".sorted-skins")),this.data(null,b),a.remove(),this.caution())}whichAvail(a="unoccupied"){for(var b=[],c=0;c<this.spots.length;c++)this.spots[c].status==a&&b.push(c);return b}setOcp(a){try{return this.spots[a].status="occupied",this.spots[a].object}catch(a){return this.error("Exceeded_index_range"),!1}}setUnocp(a){try{return this.spots[a].status="unoccupied",this.spots[a].object}catch(a){return this.error("Exceeded_index_range"),!1}}data(a,b){switch(a){case"get":const c=this.spots[b].object;this.spots[b].data={title:$(c).find(".sorted-skins__skin-title").html(),amount:$(c).find(".sorted-skins__cost").html().split(" ")[0],weapon_id:$(c).find(".sorted-skins__unit").attr("weapon-id")};break;case null:this.spots[b].data={title:null,amount:null,weapon_id:null};}}caution(){var a=this.whichAvail("occupied");3<=a.length?($(".contract__caution").hide(),this.saf=!1):($(".contract__caution").show(),this.saf=!0)}error(a){page.support.notify("warning",a)}}}init(){$(".contract-result__input").attr("disabled"),$(".contract-window").appendTo(".popup").removeClass("hidden"),$(".contract__button").click(()=>!0==this.spot.saf?void this.onpop():void(page.popup.fadeIn($(".contract-window")),this.fill()))}fill(){for(var a=0,b=0;a<this.spot.spots.length;a++)$(".contract-window__table--row:nth-child("+(a+1)+") .js-contract-row").html(this.spot.spots[a].data.title),"occupied"==this.spot.spots[a].status&&(b+=+this.spot.spots[a].data.amount)}count_sum(){for(var a=0,b=0;a<this.spot.spots.length;a++)"occupied"==this.spot.spots[a].status&&(b+=+this.spot.spots[a].data.amount);return+b.toFixed(3)}update_DOM(){DOM.update("contract",{items:this.spot.whichAvail("occupied").length,sum:this.count_sum()})}}class features_canvas{init(){this.isMouseDown=!1,this.canvas_out=$(".contract-window__canvas"),this.canvas=this.canvas_out[0],this.canvas.width=this.canvas_out.outerWidth(),this.canvas.height=this.canvas_out.outerHeight(),this.body=$("body"),this.canvas,this.ctx=this.canvas.getContext("2d"),this.linesArray=[],this.currentSize=1,this.currentColor="rgb(225,225,225)",this.currentBg="white",this.canvas.addEventListener("mousedown",()=>{this.mousedown(this.canvas,event)}),this.canvas.addEventListener("mousemove",()=>{this.mousemove(this.canvas,event)}),this.canvas.addEventListener("mouseup",()=>{this.mouseup()})}save(){localStorage.removeItem("savedCanvas"),localStorage.setItem("savedCanvas",JSON.stringify(this.linesArray)),console.log("Saved canvas!")}redraw(){for(var a=1;a<this.linesArray.length;a++)this.ctx.beginPath(),this.ctx.moveTo(this.linesArray[a-1].x,this.linesArray[a-1].y),this.ctx.lineWidth=this.linesArray[a].size,this.ctx.lineCap="round",this.ctx.strokeStyle=this.linesArray[a].color,this.ctx.lineTo(this.linesArray[a].x,this.linesArray[a].y),this.ctx.stroke()}getMousePos(a,b){var c=this.canvas.getBoundingClientRect();return{x:b.clientX-c.left,y:b.clientY-c.top}}mousedown(a,b){this.getMousePos(this.canvas,b);this.isMouseDown=!0;var c=this.getMousePos(this.canvas,b);this.ctx.moveTo(c.x,c.y),this.ctx.beginPath(),this.ctx.lineWidth=this.currentSize,this.ctx.lineCap="round",this.ctx.strokeStyle=this.currentColor}mousemove(a,b){if(this.isMouseDown){var c=this.getMousePos(this.canvas,b);this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),this.store(c.x,c.y,this.currentSize,this.currentColor)}}store(a,b,d,e){this.linesArray.push({x:a,y:b,size:d,color:e})}mouseup(){this.isMouseDown=!1,this.store(),this.redraw()}downloadCanvas(a,b,c){a.href=document.getElementById(b).toDataURL(),a.download=c}}class features_paging{constructor(){this.pages={},this.fickle=".ajax-fickle",this.progress=15,postLoader.add(()=>{this.default()}),$("body").append(`<div class="notifier"><div class="notifier__message"></div><span class="notifier__signal"></span></div>`),$(document).on("click","a.ajax-link",a=>{a.preventDefault();var b=$(a.currentTarget).attr("href");null==b?console.error("The link attr is empty"):this.load(b)})}default(){this.refresh(),window.onpopstate=a=>this.isFirstInHistory()?void(window.location.href=a.state.href):void $(this.fickle).html(a.state.data)}load(a,b=!0){this.progress=25,this.dynamic_request(a,c=>{null==history.state?history.replaceState({href:a,first:!0,data:c},"",a):b&&history.pushState({href:a,data:c},"",a),this.final(c,a)})}refresh(){this.load(window.location.pathname)}dynamic_request(a,b){$.ajax({url:a,headers:{"DYNAMIC-REQUEST":!0},dataType:"html",success:b,error:a=>{this.progress=null,console.warn("Page Loading Error:",a),"undefined"==typeof a.responseJSON&&(a.responseJSON={message:"Undefined error"}),page.support.notify(a.statusText,`Page Loading Error: "`+a.responseJSON.message+`"`)}})}request(a,b){$.ajax({url:a,dataType:"html",success:b})}final(a,b){this.active_page=b,this.pageLoaded=b.split("/"),$(this.fickle).html(a)}addPage(a,b){a=a.replace("/",""),this.pages[a]=b}onPageLoaded(a){a[1]in this.pages&&this.pages[a[1]](a[2])}isFirstInHistory(){return null!=history.state&&history.state.first}set active_page(a){$(".topbar-menu, .bottombar-menu").each(function(){var b=$(this).attr("class")+"__link--active";$(this).find("a").removeClass(b),$(this).find("a[href='"+a+"']").addClass(b)})}set progress(a){if(null==a){var b=0;a=""}else{var b="";a+="%"}$(".load-indicator").css({opacity:b}).find(".load-indicator__fill").css({width:a})}notify(a,b){$(".notifier").animate({bottom:"0%"},350).delay(1e4).animate({bottom:"-15%"},350),$(".notifier__message").html(b),$(".notifier__signal").css({background:"hsl("+{error:0,warning:50,success:100}[a]+", 50%, 40%)"})}notify_dev(a,b){0==$(".dev-log").length&&$("body").append(`<div class="dev-log"><div class="dev-log__header"><span>Request Response: </span><span class="js-dev-log-type"></span></div><pre class="dev-log__body js-dev-log-content"></pre></div>`);var c=JSON.stringify(b,void 0,2),d=parse_html(c),e=color_html(c,d);DOM.update("dev-log",{type:a,content:e})}}class features_liveFeed{constructor(){this.singleItem=`<div class="weapon-skins__weapon"><img src="/img/nZQWFYGPHj-Screenshot_83.png" class="weapon-skins__image"><span class="weapon-skins__quality weapon-skins__quality--pink"></span><div class="weapon-skins-owner"><img src="" class="weapon-skins-owner__case-image"><span class="weapon-skins-owner__name"></span><a href="" class="ghost ajax-link"></a></div></div>`,this.parsedItem=$.parseHTML(this.singleItem)}add(a){var b=$(this.parsedItem).clone();$(b).find(".weapon-skins__image").attr({src:"/img/"+a.item_src}),$(b).find(".weapon-skins__quality").attr({class:"weapon-skins__quality"}).addClass("weapon-skins__quality--"+a.class_name),$(b).find(".weapon-skins-owner__case-image").attr({src:"/img/"+a.case_image}),$(b).find(".weapon-skins-owner__name").html(a.name),$(b).find("a.ghost").attr({href:a.user_id}),setTimeout(()=>{$(b).prependTo(".live-drops__inner")},!1==a.now?0:a.now)}removeLast(){$(".live-drops__inner").find(".weapon-skins__weapon:last-child").remove()}}class features_mobile{constructor(){this.time=new Date().getTime(),this.file=this.isDeviceMobile()?"mobile.css":"main.css",$($("link")[1]).attr({href:"/assets/css/"+this.file+"?v="+this.time}),this.isDeviceMobile()?(this.if=!0,$($(".social-row")[0]).remove(),$(".topbar-profile__balance, .stndfspin-features, .profile-confirmation, .profile-info").removeClass("skewed-element"),$(".topbar-menu, .social-row__title").remove(),$(".bottombar").after($(".bottombar__description")),$(".lastbar").after($(".bottombar-menu")),$(".stndfspin-features__options").after($(".topbar-language"))):this.if=!1}isDeviceMobile(){return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))}}const page=new class{constructor(){this.dev=!1,this.sound=new features_sound,this.lang=new features_lang,this.timer=new features_timer,this.wheel=new features_wheel,this.popup=new features_popup,this.referal=new features_referal,this.contract=new features_contract,this.canvas=new features_canvas,this.support=new features_paging,this.liveFeed=new features_liveFeed,this.mobile=new features_mobile,this.on=function(){}}set on(a){a()}};class STNDFItems{static gather(a){var b=[];return $(a).find(".sorted-skins__unit").each(function(){b.push({weapon_id:$(this).attr("data-id")})}),b}}class ItemsController extends STNDFItems{static sell(a,b){api.post("/item/sell",{id:a},b)}static sellAll(){api.post("/item/sell",this.gather(".js-tab-inventory"),()=>{page.popup.close(),this.callback()})}static createWithdrawal(a){api.post("/item/sell",a,this.callback)}callback(a){page.support.notify("success",getLanguage(a.success_message))}static CreateItem(){var a=$(sorted_skin_html).clone();this.items=[a]}static CreateContract(){this.CreateItem();var a=$(sorted_contract_html).clone().prepend(this.items.last());this.contracts=[a]}static ModifyItemByData(a={}){this.items.last(function(b){b.find(".sorted-skins__cost").html(alter_by_currency(a.price,!0)),b.find(".sorted-skins__skin-title--0").html(a.name),b.find(".sorted-skins__skin-title--1").html(a.subname),b.find(".weapon-skins__image:only-child").attr({src:"/img/"+a.image}),b.addClass("sorted-skins__unit--"+a.class_name)})}static ModifyContractByData(a={}){this.ModifyItemByData(a.win),this.contracts.last(b=>{a.item_list.filter(a=>{b.find(".sorted-cotracts__skins").append(this.CreateWeapon(a.item))}),b.find(".sorted-cotracts__text span").html(alter_by_currency(a.price,!0,!0)),b.find(".sorted-skins__unit").replaceWith(this.items.last())})}static AppendItemTo(a){var b=this.items.last();$(b).appendTo(a)}static AppendContractTo(a){var b=this.contracts.last();$(b).appendTo(a)}static CreateWeapon(a={}){return`<div class="weapon-skins__weapon"><img src="${"/img/"+a.image}" class="weapon-skins__image"><span class="weapon-skins__quality weapon-skins__quality--${a.class_name}"></span></div>`}}class FortuneWheelController{static setInnerPrice(a,b){$(".fortune-wheel[data-id='"+a+"'] .js-wheel-item-price").html(alter_by_currency(b,!0))}}function num_split(a=0,b=0){for(var c=a.toString(),d=c.length,b=d>=b?0:b-d,e=Array(b).fill(0),f=0;f<d;f++)e.push(+c.charAt(f));return e}function prevent_error_function(a,...b){try{a(...b)}catch(a){console.warn("Function error prevented: "+a)}}async function __wait(a,b){await b(),await setTimeout(()=>{},a)}function split_number(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function alter_by_currency(a,b=!1,c=!1){var d=getLanguage("settings.multiplier"),e=a*d;return c&&(e=e.toFixed(2)),b?e+" "+getLanguage("settings.currency"):e}function parse_html(a){var b=/[^":]*/g,c=a.match(b);return c}function color_html(a,b){return b.forEach(b=>{[""," ",",","}","{","[","]","(",")"].includes(b)||-1<b.search(",")||-1<b.search("{")||-1<b.search("}")||(a=a.replace(b,"<span class=\"dev-log__color\">"+b+"</span>"))}),a}